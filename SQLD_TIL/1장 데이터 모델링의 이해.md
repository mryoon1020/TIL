# 1장 

### 데이터 모델링의 이해

**모델링의 특징**

- 현실세계에 대해 표현하는 것과 비교

- 모델링은 단지 시스템구현만을 위해 수행하는 타스크가 아님

- 시스템 구현을 포함한 **업무 분석 및 업무 형상화**를 하는 목적도 있음

- 현실세계를 일정한 형식에 맞주어 표현하는 **추상화**의 의미를 가질 수 있음

- 복잡한 현실을 제한된 언어나 표기법을 통해 이해하기 쉽게 하는 **단순화**의 의미를 가지고 있음

- 애매모호함을 배제, 누구나 이해가 가능하도록 정확하게 현상을 기술하는 **정확화**의 의미를 가짐



**엔터티**

- 개념
  - 업무에 필요하고 유요한 정보를 저장하고 관리하기 위한 집합적인 것, 보이지않는 개념도 포함됨

- 발생 시점에 따른 엔터티 분류
  - 기본/키엔터티(Fundamental Entity, key Entity)
    - 업무에 원래 존재하는 정보
    - 엔터티와의 관계에 의해 생성되지 않고 독립적으로 생성가능
    - 다른 엔터티의 부모역할
    - ex) 사원, 부서, 고객 등
  - 중심엔터티(Main Entity)
    - 기본엔터티로부터 발생
    - 업무의 중심적 역할
    - 데이터의 양이 많이 발생됨
    - 다른 엔터티와의 관계를 통해 행위 엔터티를 생성
    - ex) 계약, 주문, 매출
  - 행위 엔터티(Active Entity)
    - 두개 이상이 부모 엔터티로 부터 발생
    - 자주 내용이 바뀌거나 데이터량이 증가
    - 분석초기단뎨에서 잘 나타나지 않음
    - 상세설계 단계, 프로세스와 상관 모델링을 진행하며 도출 가능

**데이터 모델링**

- 개념
  - 정보시스템을 구축하기 위한 데이터 관점의 업무 분석기법
  - 현실세계의 데이터에 대해 약속된 표기법에 의해 표현하는 과정
  - 데이터베이스를 구축하기 위한 분석/설계의 과정
- 데이터 모델링이 필요한 주요 사유
  - 업무정보를 구성하는 기초가 되는 정보들에 대해 **일정한 표기법**에 의해 표현
  - 정보시스템 구죽의 대상이 되는 **업무 내용을 정확하게 분석**하는 것
  - 분석된 모델을 가지고 **데이터베이스를 생성하여 개발 및 데이터관리에 사용**하기 위한 것
  - 데이터 베이스를 구축하기 위한 용도를 위해 데이터 모델링을 수행하고 **업무에 대한 설명은 별도의 표기법**을 이용
  - 데이터 모델링이라는 것은 단지 데이터베이스만을 구축하기 위한 용도로 쓰이는 것이 아니라 데이터모델링 자체로서 업무를 설명하고 분석하는 부분에서도 매우 중요한 의미를 가질고 있음

**데이터 모델링 유의점**

- 중복(Duplication)
  - 데이터모델은 같은데이터를 사용하는 사람, 시간, 장소를 파악하는데 도움을 줌
  - 데이터 베이스가 여러장소에 같은 정보를 저장하는 잘못을 하지 않도록함
- 비유연성(Inflexiblility)
  - 데이터 설계에 따라 사소한 업무변화에도 데이터 모델이 수시로 변경됨으로 써 유지보수의 어려움을 가중시킬수 있음
  - 데이터의 정의를 데이터의 사용 프로세스와 분리함으로써 데이터 모델링은 데이터 혹은 프로세스의 작은 변화가 애플리케이션과 데이터베이스에 중대한 변화를 일으킬 수 있는 가능성을 줄임
- 비일관성(Inconsi)
  - 데이터의 중복이 없더라도 비일관성은 할 수 있음
  - ex) 신용상태에 대한 갱신없이 고객의 납부이력정보를 갱신하는 경우
  - 개발자가 서로 연관된 다른 데이터와 모순된다는 고려 없이일련의 데이터를 수정할 수 있기 때문
  - 데이터 모델링할 때 데이터와 데이터간의 상호연관관계에 대해 명확하게 정의한다면 이러한 위험을 사전에 예방하는데 도움을 줄 수 있음
- ETC
  - 프로그램과 테이블간의 연계성을 높이면 데이터 또는 프로세스의 작은변화에도 큰 영향을 줄수있음

-----------------------------------------------------------------------------------------------------------------------------------------------------------

4. ****

- 사소한 업무 변화에도 데이터 모델이 수시로 변경되고 데이터 또는 프로세스의 작은 변화에도 큰영향을 받는다

  => 유연성이 떨어진다는 의미

5. 

- 개념적 데이터 모델링
  - 추상화수준이 높고 업무중심적이고 포괄적인 수준의 모델링 진행
  - 전사적 데이터 모델링, EA수립시 많이 이용
- 논리적 데이터 모델링
  - 시스템으로 구축하고자 하는 업무에 대해 key, 속성 관계등을 정확하게 표현, 재사용성이 높음
- 물리적 데이터 모델링
  - 실제로 데이터 베이스에 이식할 수 있도록 성능, 저장 등 물리적인 성격을 고려하여 설계

6. 

- ANCI-SPARC
  - DB구축을 위한 추상적인 설계표준
  - DB구조를 외부단계, 개념단계, 내부단계로 구분함
- 외부스키마(External Schema)
  - 개별사용자들 관점 기술
- 개념스키마(Conceptual Schema)
  - 전체 DB의 논리적 구조를 기술
  - 개념스키마가 존재함
- 내부스키마(Internal Schema)
  - 데이터 베이스에 어떤 데이터가 어떻게 저장되어 있는가를 기술
  - 내부스키마를 가짐



7. 책 필기 참조

- ERD관련 설명 필기했음

8. 

- ERD 작성 순서
  - 엔터티도출 ==> 엔터티배치 ==> 관계설정 ==> 관계명 기술
  - 엔터티를 그림 ==> 엔터티를 적절하게 배치 ==> 엔터티간 관계를 설정 ==> 관계명을 기술
  - ==> 관계의 참여도를 기술 ==> 관계의 필수여부를 기술
  - 가장중요한 엔터티는 왼쪽상단에 배치
  - 이를 중심으로 왼쪽에서 오른쪽으로 다른 엔터티를 나열하면서 위에서 아래로 전개함

9. 

- 엔터티 = 테이블로 이해하면 됨

  - 반드시 해당업무에서 필요하며 관리하고자 하는 정보
  - 지속적으로 존재하는 **2개이상의 인스턴스(row)의 집합**
  - 반드시 **속성**을 가져야함
  - **유일한 식별자**에 의해 식별이 가능해야함
  - 엔터티는 업무프로세스에 의해 이용되어야 한다
  - 엔터티는 다른 엔터티와 **최소한개 이상의 관계**가 있어야함

- 예시

  - | 환자 | 병원업무에서 필요하며 관리하고자 하는정보 |
    | ---- | ----------------------------------------- |
    | 이름 | 반드시 속성값을 가짐                      |
    | 주소 | 반드시 속성값을 가짐                      |

10. 

- 지속적으로 존재하는 2개 이상의 인스턴스의 집합
  - 객체지향의 디자인 패턴에는 싱글턴패턴이 있어 하나의 인스턴스를 가지는 클래스가 존재한다. 이와 유사하게 엔터티는 ~~한개의 인스턴스를 가지는 것만으로 충분한 의미를 부여할 수 있다~~  ==> 오답임

11. 

- 엔터티 발생시점에 따른 분류
  - 기본엔터티
    - 독립적으로 생성가능
    - 주식별자를 상속받지 않고 자신의 주식별자를 가짐
    - 다른 엔터티의 부모역할
  - 중심엔터티
    - 기본엔터티로부터 발생
    - 해당업무에서 중심역할
    - ex) 계약, 대출, 주문 등
  - 행위엔터티
    - 2개이상의 부모엔터티로 부터 발생
    - 자주내용이 바뀌거나 데이터량이 증가
    - ex) 변경이력, 주문목록 등
- 물리적 형태에 따른 분류
  - 유형 엔터티
    - 물리적인 형태가 있고 안정적이며 지속적으로 활용
    - ex) 사원, 상품 등
  - 개념 엔터티
    - 물리적인 형태는 없음
    - 관리해야할 개념적 정보
    - ex) 회사, 조직 등
  - 무형엔터티
    - 업무수행에 따라 비교적 많이 발생함
    - ex) 주문, 배송 등

12. 

-  책에 그린 관계도 참조
  - 기본엔터티 : 고객 테이블
  - 중심엔터티: 주문 테이블
  - 행위엔터티: 주문 목록

13. 

- 엔터티 명명기준
  - 업무용어를 사용
  - 약어사용은 자재
  - 단수명사 사용
  - 유일한 이름을 부여
  - 생성하는 의미대로 이름 부여

14. 

- 속성(Attribute)
  - 업무에서 필요로 하는 인스턴스에서 관리하고자 하는 의미상 더 이상분리되지 않는 최소의 데이터 단위
- 엔터티, 인스턴스, 속성, 속성값의 관꼐
  - 한개의 엔터티는 두개이상의 인스턴스의 집합이어야한다
  - 한개의 엔터티는 두 개 이상의 속성을 갖는다
  - 한개의 속성은 한개의 속성값을 갖는다.

15. 

- 속성도 집합임
- 하나의 인스턴스에서 각각의 속성은 유일한 속성값을 가질수 있음

16. 

- 속성의 특성에 따른 분류
  - 기본속성
    - BASIC
    - 업무상 필요한 데이터에 대해 정의
    - 코드성데이터, 일련번호, 계산에 의해 생성된 속성등은 제외
  - 설계속성
    - DESIGNED
    - 업무를 규칙화하기 위해 새로 만들거나 변경한 속성
    - 코드데이터, 일련번호 등
  - 파생속성
    - DERIVED
    - 다른속성의 영향을 받아 발생
    - 주로 계산된 값들이 이에 해당
    - 가급적 적게 정의하는 것이 좋음
- 일반예금, 특별 예듬글에 대해서 코드부여
  - ex) 01-일반예금, 02-특별예금
  - 이러한 경우는 설계 속성임
- 원금, 예치기간, 이자율은 기본속성임
- 원금 * 이자율 은 파생 속성

17. 

- 속성의 특성에 따른 분류
  - 기본속성
  - 파생속성
  - 설계속성
- 엔터티 구성방식에 따른 분류
  - PK속성
  - FK속성
  - 일반속성

18. 

- 도메인(DOMAIN)
  - 속성값의 데이터 타입과 크기, 추가적인 제약사항으로 생각 할수 있음
  - 개념
    - 각 속성은 가질수 있는 값의 범위가 있음
    - 이를 속성의 도메인이라고 함
    - 즉, 엔터티 내에서 속성에 대한 데이터 타입과 크기 그리고 제약사항을 지정하는 것

19. 

- 속성의 명칭부여
  - 해당업무에서 사용하는 이름을 부여
  - 서술식 속성명은 사용하지 않는다
  - 약어사용은 가급적 제한함
  - 전체 데이터모델에서 유일성을 확보하는것이 좋음(유일한 이름 부여)

20. 

- 존재에 의한 관계
  - 단순히 소속되어있는 것
  - ex) 부서와 사원의 관계
- 행위에 의한 관계
  - 어떤 행위가 이루어져야 관계가 발생하는 것
  - ex) 고객과 주문 하는 행위
- ERD에서는 존재와 행위를 구분하지 않고 표기
- 클래스 다이어그램에서는 연관관계와 의존관계를 구분하여 표기

21.  22.

- 관계의 표기법
  - 관계명(Membership)
    - 관계의 이름
  - 관계차수(Cardinality)
    - 1:1, 1:m, M:N
  - 관계 선택사양(Optionality)
    - 필수 관계, 선택관계
    - 필수 관계의 경우 O기호를 사용

23. 24.

- 엔터터 사이에 정의한 관계 체크사항
  - 두개의 엔터티사이에 관심 있는 연관규칙이 존재하는가?
  - 두개의 엔터티사이에 정보의 조합이 발생되는가?
  - 업무기술서, 장표사이에 관계연결을 가능하게 하는 동사(Verb)가 있는가?
  - 업무기술서, 장푯사이에 관계연결에 대한 규칙이 서술되어 있는가?

- 관계읽기
  - 기준(Source) 엔터티를 한개(one) 또는 각(each)으로 읽는다
  - 대상(Target) 엔터티의 관계참여도 즉 개수(하나, 하나이상)를 읽는다
  - 관계선택사양과 관계명을 읽는다

25. 

- 식별자 종류
  - 엔터티내에서 대표성을 가지는가에 따라 **주식별자(Primary Identifier)**와 **보조 식별자(Alternate Identifier)**로 구분
  - 엔터티내에서 스스로 생성되었는지 여부에 따라 **내부식별자(Internal Identifier)**와 **외부식별자(Foreign Identifier)**로 구분
  - 단일속성으로 식별이 되는가에 따라 **단일식별자(Single Identifier)**와 **복합식별자(Composit Identifier)**로 구분
  - 원래 업무적으로 의미가 있던 식별자 속성을 대체하여 일련번호와 같이 새롭게 만든 식별자를 구분하기 위해 **본질 식별자**와 **인조식별자**로 구분
- 주식별자
  - 엔터티내에서 각 인스턴스를 구분할 수 있고 해당 엔터티에 대한 대표성을 갖고 있어서 타 엔터티와 참조관계를 연결할 수 있는 식별자
- 주식별자 지정시 유의사항이자 특징
  - 유일성
    - 주식별자에 의해 엔터티내의 모든 인스턴스들이 유일하게 구분 되어야 한다
  - 최소성
    - 주식별자를 구성하는 속성의 수는 유일성을 만족하는 최소의 수
  - 불변성
    - 지정된 주식별자의 값은 자주 변한지 않는 것이어랴 한다
  - 존재성
    - 주식별자가 지정이 되면 반드시 값이 들어와야 한다

26. 27. 28.

- 식별자
  - 하나의 엔터티에 구성되어 있는 여러속성들에 대해 각 속성을 구분하기 위한 구분자를 뜻함

- 책 필기 참조

- 명칭 내역등과 같이 이름으로 기술 되는 것들은 가능하면 지정하지 않도록 함
- 자주 수정이 되는 속성은 제외시키도록함

29. 

- 책 필기 참조
- 식별자 관계
  - 부모엔터티로 부터 속성을 받아와서 자식에터티의 주식별자로 사용하는 경우
- 비식별자 관계
  - 부모엔터티로 부터 속성을 받아오지만 주식별자로 사용하지 않고 외부식별자로만 사용 하는 경우

- 식별자 관계VS 비식별자 관계

| 항목               | 식별자 관계                                                  | 비식별자 관계                                                |
| ------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 목적               | 강한 연결관계 표현                                           | 약한 연결관계 표현                                           |
| 자식 주식별자 영향 | 자식 주식별자의 구성에 포함됨                                | 자식 일반 속성에 포함됨                                      |
| 표기법             | 실선 표현                                                    | 점선 표현                                                    |
| 연결고려사항       | - 반드시 부모 엔터티 종속<br>- 자식 주식별자 구성에 부모 주식별자 포함 필요<br>- 상속받은 주식별자 속성을 타 엔터티에 이전 필요 | - 약한 종속관계<br>- 자식 주식별자구성을 독립적으로 구성<br>- 자식 주식별자구성에 부모 주식별자 부분 필요<br>- 상속받은 주식별자 속성을 타 엔터티에 차단 필요<br>- 부모쪽의 관계 참여가 선택 관계 |

- 상호간의 연관성이 약한 경우는 부모 엔터티와 상관없이 자식엔터티가 주식별자를 갖길 원할때 비식별자관계 사용
- 부모엔터티의 주식별자를 자식엔터티에서 받아 손자 엔터티까지 계속 흘려보내기 위해 식별자 관계를 고려함

30. 

- 책필기 참조
- 부모엔터티의 인스턴스가 자식엔터티와 같이 소멸된다면 식별자 관계임
- 식별자 관계의 경우 부모엔터티의 인스턴스를 삭제하려면 자식엔터티의 것도 삭제해야함
- 식별자 관계의 경우 부모엔터티에 참조값이 있을때 자식엔터티에 인스턴스가 생성됨

| 분류                | 식별자     | 설명                                                         |
| ------------------- | ---------- | ------------------------------------------------------------ |
| **대표성 여부**     | 주식별자   | 엔터티 내에서 각 어커런스를 구분할 수 있는 구분자이며, 타 엔터티와 참조관계를 연결할 수 있는 식별자 |
|                     | 보조식별자 | 엔터티 내에서 각 어커런스를 구분할 수 있는 구분자이나 대표성을 가지지 못해 참조관계 연결을 못함 |
| **스스로 생성여부** | 내부식별자 | 엔터티 내부에서 스스로 만들어 지는 식별자                    |
|                     | 외부식별자 | 타 엔터티와의 관계를 통해 타 엔터티로부터 받아오는 식별자    |
| **속성의 수**       | 단일식별자 | 하나의 속성으로 구성된 식별자                                |
|                     | 복합식별자 | 둘이상의 속성으로 구성된 식별자                              |
| **대체여부**        | 본질식별자 | 업무에 의해 만들어지는 식별자                                |
|                     | 인조식별자 | 업무적으로 만들어 지지는 않지만 원조식별자가 복잡한 구성을 가지고 있기 때문에 인위적으로 만든 식별자 |

* 어커런스(occurrence)
  * 정의된 레코드의 구조에 따라 데이터베이스에 구체적이고 실제적인 정보를 저장하고 있는 데이터 레코드
