# DB 참조 무결성

- 무결성(integrity)
  - 데이터 및 네트워크 보안에 있어서 정보가 인가된 사람에 의해서만 접근이나 변경이 가능한 성질
- 데이터 무결성(data integrity)
  - 데이터를 인가하지 않은 방법으로 변경할 수 없도록 보호하는 성질
- 참조 무결성(referential integrity)
  - 관계형 데이터베이스의 관계모델에서 2개의 관련 있던 관계 변수(테이블) 간의 일관성(데이터 무결성)을 말함
  - 관계가 형성된 두 테이블에는 데이터를 입력, 수정, 삭제 할때 하기 사항 반드시 고려할것

| DML 명령문      | 부모 테이블                                                  | 자식 테이블                                                  |
| --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| insert          | 부모키 값이 고유할 경우에만 허용                             | 외래키 값이 부모키와 동일하거나 부분적 또는 전체적으로 null일 경우에 가능 |
| update          | 자식 테이블의 어떤 행도 부모키값을 참조하지 않을 경우에만 가능 | 새로운 외래키 값이 참조 키값과 동일할 경우에 가능            |
| delete restrict | 자식 테이블의 어떤 행도 부모 키값을 참조하지 않을 경우에만 가능 | 항상가능                                                     |
| delete cascade  | 항상가능                                                     | 항상가능                                                     |

cf. restrict: 참조되는 부모테이블의 값을 갱신, 삭제하지 못하도록하는 것

cf. cascade: 참조하는 자식테이블의 값들도 모두 갱신, 삭제 하는것